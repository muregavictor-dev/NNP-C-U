<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Church CMS Library</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #318b2e;
            --secondary-color: #f59e0b;
            --text-color: #293343;
            --light-bg: #d2f8ac;
            --card-bg: #ffffff;
            --border-color: #e5e7eb;
        }

        body {
            background: linear-gradient(135deg, #ffffff, #fffaf5, #f9f9f9);

            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            min-height: 100vh;
        }

        .library-page {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .main-title {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .subtitle {
            color: var(--text-color);
            font-size: 1.1rem;
            margin-bottom: 30px;
        }

        .section-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            margin-top: 40px;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .section-description {
            color: #6b7280;
            margin-bottom: 20px;
        }

        .search-bar-container {
            max-width: 700px;
            margin: 0 auto 50px;
            padding: 15px;
            background-color: var(--light-bg);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        #global-search-form {
            display: flex;
            gap: 10px;
        }

        #global-search-input {
            flex-grow: 1;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
        }

        #global-search-input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .search-btn {
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            background-color: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
        }

        .search-btn:hover {
            background-color: #276b25;
        }

        .text-hint {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #6b7280;
            text-align: center;
        }

        .results-container {
            margin-top: 15px;
            padding: 10px;
            background-color: var(--card-bg);
            border: 1px dashed var(--border-color);
            border-radius: 6px;
            min-height: 40px;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .interactive-card {
            text-align: center;
            padding: 25px 15px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            border-left: 5px solid var(--secondary-color);
        }

        .interactive-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .interactive-card i {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        /* Book Catalogue Styles */
        .books-catalogue-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .category-card {
            border-left: 5px solid var(--primary-color);
        }

        .collapsible-list {
            list-style: none;
            padding: 0;
        }

        .category-summary {
            cursor: pointer;
            font-weight: bold;
            padding: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .badge {
            background-color: var(--secondary-color);
            color: var(--text-color);
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: normal;
        }

        .book-list {
            margin: 5px 0 0 0;
            padding: 0;
            list-style: none;
        }

        .book-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            padding: 8px 0;
            border-bottom: 1px dotted var(--border-color);
        }

        .book-list li:last-child {
            border-bottom: none;
        }

        .book-list li p {
            margin: 0;
            font-size: 0.95rem;
            flex-grow: 1;
        }

        .borrow-btn {
            font-size: 0.8rem;
            padding: 5px 10px;
            margin-left: 10px;
            white-space: nowrap;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .borrow-btn:hover {
            background-color: #276b25;
        }

        .borrow-btn.disabled {
            background-color: #ef4444;
            cursor: not-allowed;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            padding-top: 60px;
        }

        .modal-content {
            background-color: var(--card-bg);
            margin: 5% auto;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .close-modal {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            cursor: pointer;
        }

        .close-modal:hover {
            color: var(--text-color);
        }

        .modal-title {
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .modal-hint {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: var(--text-color);
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .tool-card h3 {
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
        }

        .btn-primary:hover {
            background-color: #276b25;
        }

        .mini-card {
            background-color: var(--light-bg);
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            border-left: 3px solid var(--primary-color);
        }

        .mini-card h5 {
            margin: 0 0 5px 0;
            font-size: 1rem;
            color: var(--primary-color);
        }

        .mini-card p {
            margin: 0;
            font-size: 0.85rem;
            color: #6b7280;
        }

        .error {
            color: #ef4444;
        }

        .ai-result {
            background-color: #f0f9ff;
            padding: 15px;
            border-left: 3px solid var(--secondary-color);
            margin-top: 10px;
            border-radius: 5px;
        }

        .ai-result h4 {
            margin-top: 0;
            color: var(--secondary-color);
        }

        .book-title-display {
            background-color: var(--light-bg);
            font-weight: bold;
        }

        /* External Links */
        .links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .link-list {
            list-style: none;
            padding: 0;
        }

        .link-list li {
            margin-bottom: 10px;
        }

        .link-list a {
            display: inline-block;
            color: var(--primary-color);
            text-decoration: none;
            transition: color 0.3s;
        }

        .link-list a:hover {
            color: var(--secondary-color);
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .main-title {
                font-size: 2rem;
            }
            
            #global-search-form {
                flex-direction: column;
            }
            
            .books-catalogue-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <main>
        <div id="header-placeholder"></div>
<script>
    fetch('header.html')
        .then(response => response.text())
        .then(data => {
            // Extract just the header element
            const parser = new DOMParser();
            const doc = parser.parseFromString(data, 'text/html');
            const header = doc.querySelector('header');
            const styles = doc.querySelector('style');
            
            // Insert header
            document.getElementById('header-placeholder').innerHTML = header.outerHTML;
            
            // Insert styles if not already present
            if (!document.getElementById('header-styles')) {
                const styleTag = document.createElement('style');
                styleTag.id = 'header-styles';
                styleTag.textContent = styles.textContent;
                document.head.appendChild(styleTag);
            }
        });
</script>
    
        <div class="container library-page">
            <section class="text-center">
                <h1 class="main-title">CU Digital & Physical Library</h1>
                <p class="subtitle">Search, learn, and grow with resources curated for NNP Christian Union.</p>
                <div class="search-bar-container">
                    <form id="global-search-form">
                        <input type="search" id="global-search-input" placeholder="Search for a book, Bible verse, or topic..." required />
                        <button type="submit" class="search-btn"><i class="fas fa-search"></i> Search</button>
                    </form>
                    <p class="text-hint">Tip: Try a book title, 'John 3:16', or 'grace'.</p>
                    <div id="global-search-results" class="results-container"></div>
                </div>
            </section>

            <section>
                <h2 class="section-title">Quick Access & Tools</h2>
                <div class="dashboard-grid">
                    <article class="card interactive-card" onclick="scrollToBible()">
                        <i class="fas fa-bible fa-2x"></i>
                        <h3>Bible Verse Lookup</h3>
                        <p>Find passages quickly.</p>
                    </article>
                    <article class="card interactive-card" onclick="scrollToSuggestion()">
                        <i class="fas fa-lightbulb fa-2x"></i>
                        <h3>Suggest a Book</h3>
                        <p>Request new titles.</p>
                    </article>
                    <article class="card interactive-card" onclick="scrollToDict()">
                        <i class="fas fa-book-open fa-2x"></i>
                        <h3>Dictionary Tools</h3>
                        <p>Define Christian terms.</p>
                    </article>
                </div>
            </section>

            <!-- Physical Book Catalogue -->
            <section id="hardcopy-books-section">
                <h2 id="hardcopy-books-title" class="section-title"><i class="fas fa-box-open"></i> Physical Book Catalogue</h2>
                <p class="section-description">Browse and check the availability of books located in the CU office. Use the 'Borrow' button to reserve a copy!</p>

                <div class="books-catalogue-grid">
                    <div class="card category-card">
                        <details class="collapsible-list">
                            <summary class="category-summary">Bible Study Guides <span class="badge">11 Available</span></summary>
                            <ul class="book-list">
                                <li><p>1st and 2nd Thessalonians</p><button class="borrow-btn" data-book="1st and 2nd Thessalonians">Borrow</button></li>
                                <li><p>1st Corinthians</p><button class="borrow-btn" data-book="1st Corinthians">Borrow</button></li>
                                <li><p>The Great Controversy</p><button class="borrow-btn disabled" disabled>Not Available</button></li>
                                <li><p>Romans Commentary</p><button class="borrow-btn" data-book="Romans Commentary">Borrow</button></li>
                                <li><p>Gospel of John Study</p><button class="borrow-btn" data-book="Gospel of John Study">Borrow</button></li>
                            </ul>
                        </details>
                    </div>

                    <div class="card category-card">
                        <details class="collapsible-list">
                            <summary class="category-summary">General Religious & Self-Help <span class="badge">29 Available</span></summary>
                            <ul class="book-list">
                                <li><p>Facing or Daring to Fail</p><button class="borrow-btn" data-book="Facing or Daring to Fail">Borrow</button></li>
                                <li><p>Galatians and Other Studies</p><button class="borrow-btn disabled" disabled>Not Available</button></li>
                                <li><p>Integrity a Weapon against Corruption</p><button class="borrow-btn" data-book="Integrity a Weapon against Corruption">Borrow</button></li>
                                <li><p>Purpose Driven Life</p><button class="borrow-btn" data-book="Purpose Driven Life">Borrow</button></li>
                                <li><p>Prayer: The Key to Heaven</p><button class="borrow-btn" data-book="Prayer: The Key to Heaven">Borrow</button></li>
                            </ul>
                        </details>
                    </div>

                    <div class="card category-card">
                        <details class="collapsible-list">
                            <summary class="category-summary">Theology & Doctrine <span class="badge">4 Available</span></summary>
                            <ul class="book-list">
                                <li><p>Basic Theology</p><button class="borrow-btn" data-book="Basic Theology">Borrow</button></li>
                                <li><p>Knowing God</p><button class="borrow-btn disabled" disabled>Not Available</button></li>
                                <li><p>Systematic Theology</p><button class="borrow-btn" data-book="Systematic Theology">Borrow</button></li>
                            </ul>
                        </details>
                    </div>
                </div>
            </section>

            <!-- Borrowing Modal -->
            <div id="booking-modal" class="modal">
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                    <h3 class="modal-title">Book Borrowing Request</h3>
                    <p class="modal-hint">Submit your request. The Library team will contact you for pickup/delivery arrangements.</p>
                    <form id="booking-form">
                        <div class="form-group">
                            <label for="book-title-modal">Book Title:</label>
                            <input type="text" id="book-title-modal" readonly required class="form-control book-title-display">
                        </div>
                        <div class="form-group">
                            <label for="admission-number">Admission Number (e.g., NNP/ICT/2023/1234):</label>
                            <input type="text" id="admission-number" required class="form-control" placeholder="Your NNP Student ID">
                        </div>
                        <div class="form-group">
                            <label for="mobile-number">M-Pesa/Mobile Number (Kenyan Format):</label>
                            <input type="tel" id="mobile-number" required class="form-control" pattern="^(07|2547)\d{8}$" placeholder="e.g., 07XXXXXXXX">
                        </div>
                        <div class="form-group">
                            <label for="return-date">Requested Return Date:</label>
                            <input type="date" id="return-date" required class="form-control">
                        </div>
                        <button type="submit" class="btn-primary">Submit Booking Request</button>
                    </form>
                </div>
            </div>

            <section>
                <h2 class="section-title"><i class="fas fa-tools"></i> Library Study Tools</h2>
                <div class="tools-grid">
                    <article class="card tool-card" id="bible-search-card">
                        <h3>Bible Verse Search</h3>
                        <form id="bible-search-form">
                            <input type="text" id="bible-search-input" placeholder="e.g., John 3:16" required class="form-control" />
                            <button type="submit" class="btn-primary">Read Verse</button>
                        </form>
                        <div id="bible-results" class="results-container"></div>
                    </article>
                    
                    <article class="card tool-card" id="dict-card">
                        <h3>Christian Dictionary</h3>
                        <form id="christian-dict-form">
                            <input type="text" id="christian-dict-input" placeholder="Search term (e.g. grace)" required class="form-control">
                            <button type="submit" class="btn-primary">Define</button>
                        </form>
                        <div id="christian-dict-results" class="results-container"></div>
                    </article>

                    <article class="card tool-card" id="suggest-card">
                        <h3>Suggestion Box</h3>
                        <form id="suggestion-form">
                            <textarea id="suggestion-input" placeholder="Suggest a book or provide feedback..." required class="form-control" rows="3"></textarea>
                            <button type="submit" class="btn-primary">Submit Suggestion</button>
                        </form>
                        <div id="suggestion-results" class="results-container"></div>
                    </article>
                </div>
            </section>

            <!-- Digital Resources -->
            <section class="external-links">
                <h2 class="section-title"><i class="fas fa-globe"></i> Digital & External Resources</h2>
                <div class="links-grid">
                    <article class="card">
                        <h3>Online Classics</h3>
                        <ul class="link-list">
                            <li><a href="https://www.gutenberg.org/ebooks/subject/123" target="_blank" rel="noopener noreferrer"><i class="fas fa-book-reader"></i> Project Gutenberg Christian</a></li>
                            <li><a href="https://www.ccel.org/" target="_blank" rel="noopener noreferrer"><i class="fas fa-book-reader"></i> Christian Classics Ethereal Library</a></li>
                        </ul>
                    </article>
                    <article class="card">
                        <h3>Sermons & Audio</h3>
                        <ul class="link-list">
                            <li><a href="https://www.sermonaudio.com/" target="_blank" rel="noopener noreferrer"><i class="fas fa-podcast"></i> SermonAudio</a></li>
                            <li><a href="https://www.desiringgod.org/" target="_blank" rel="noopener noreferrer"><i class="fas fa-podcast"></i> Desiring God (John Piper)</a></li>
                        </ul>
                    </article>
                    <article class="card">
                        <h3>Bookstores</h3>
                        <ul class="link-list">
                            <li><a href="https://www.christianbook.com/" target="_blank" rel="noopener noreferrer"><i class="fas fa-store"></i> ChristianBook.com</a></li>
                            <li><a href="https://www.biblesociety.org.uk/" target="_blank" rel="noopener noreferrer"><i class="fas fa-bible"></i> Bible Society</a></li>
                        </ul>
                    </article>
                </div>
            </section>
        </div>
    </main>
<!-- Include Footer -->
<div id="footer-placeholder"></div>

<script>
fetch('footer.html')
  .then(response => response.text())
  .then(data => {
    const parser = new DOMParser();
    const doc = parser.parseFromString(data, 'text/html');
    const footer = doc.querySelector('footer');
    const styles = doc.querySelector('style');

    document.getElementById('footer-placeholder').innerHTML = footer.outerHTML;

    if (!document.getElementById('footer-styles')) {
      const styleTag = document.createElement('style');
      styleTag.id = 'footer-styles';
      styleTag.textContent = styles.textContent;
      document.head.appendChild(styleTag);
    }

    document.getElementById('currentYear').textContent = new Date().getFullYear();
  });
</script>
    <script>
        // Scroll helpers
        function scrollToBible() {
            document.getElementById('bible-search-card').scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => document.getElementById('bible-search-input').focus(), 500);
        }
        function scrollToDict() {
            document.getElementById('dict-card').scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => document.getElementById('christian-dict-input').focus(), 500);
        }
        function scrollToSuggestion() {
            document.getElementById('suggest-card').scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => document.getElementById('suggestion-input').focus(), 500);
        }

        // Global Search
        document.getElementById('global-search-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const query = document.getElementById('global-search-input').value.trim();
            const results = document.getElementById('global-search-results');
            
            if (!query) return;

            results.innerHTML = `<p>🔍 Searching for <strong>${query}</strong>...</p>`;

            // Check if it's a Bible verse
            if (query.match(/[a-z]+\s*\d+:\d+/i)) {
                await fetchBibleVerse(query, results);
                return;
            }

            // Search in book catalogue
            const books = document.querySelectorAll('.book-list li p');
            let found = false;

            books.forEach(p => {
                if (p.textContent.toLowerCase().includes(query.toLowerCase())) {
                    const title = p.textContent;
                    results.innerHTML = `
                        <div class="mini-card" style="border-left:3px solid var(--secondary-color)">
                            <h5>📚 Found in catalogue</h5>
                            <p><strong>${title}</strong></p>
                        </div>`;
                    document.getElementById('hardcopy-books-section').scrollIntoView({ behavior: 'smooth' });
                    found = true;
                }
            });

            if (!found) {
                results.innerHTML = `<p>No match found in catalogue. Try Bible or Dictionary tools below.</p>`;
            }
        });

        // Bible Verse Search
        document.getElementById('bible-search-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const query = document.getElementById('bible-search-input').value.trim();
            const results = document.getElementById('bible-results');
            
            if (!query) return;
            await fetchBibleVerse(query, results);
        });

        async function fetchBibleVerse(query, target) {
            target.innerHTML = '<p>📖 Searching scripture...</p>';
            try {
                const res = await fetch(`https://bible-api.com/${encodeURIComponent(query)}`);
                if (!res.ok) throw new Error('API error');
                const data = await res.json();

                if (!data.verses || data.verses.length === 0) {
                    target.innerHTML = `<p class="error">No results for "${query}". Try format like "John 3:16"</p>`;
                    return;
                }

                target.innerHTML = data.verses.map(v => `
                    <div class="mini-card">
                        <h5>${v.book_name} ${v.chapter}:${v.verse}</h5>
                        <p>${v.text}</p>
                    </div>`).join('');
            } catch (err) {
                target.innerHTML = `<p class="error">Failed to fetch verse. Check format (e.g., "Romans 8:28")</p>`;
                console.error(err);
            }
        }

        // Christian Dictionary with AI
        const christianTerms = {
            'grace': 'Unmerited favor from God, received through faith in Christ.',
            'faith': 'Complete trust and confidence in God and His promises.',
            'salvation': 'Deliverance from sin and reconciliation with God through Jesus.',
            'repentance': 'Turning away from sin and toward God with a sincere heart.',
            'baptism': 'Symbol of spiritual cleansing and public declaration of faith.',
            'covenant': 'A sacred agreement between God and His people.',
            'redemption': 'Being bought back or freed from sin through Christ\'s sacrifice.',
            'sanctification': 'The process of becoming more holy and Christ-like.',
            'justification': 'Being declared righteous before God through faith in Jesus.',
            'atonement': 'The reconciliation of God and humanity through Christ\'s sacrifice.',
            'trinity': 'The belief in one God existing in three persons: Father, Son, and Holy Spirit.'
        };

        document.getElementById('christian-dict-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const term = document.getElementById('christian-dict-input').value.trim().toLowerCase();
            const results = document.getElementById('christian-dict-results');
            
            if (!term) return;

            results.innerHTML = `<p>Searching for <strong>${term}</strong>...</p>`;
            
            const definition = christianTerms[term] || 'No local definition found. Check external resources.';
            
            let html = `
                <div class="mini-card">
                    <h5>${term.charAt(0).toUpperCase() + term.slice(1)}</h5>
                    <p>${definition}</p>
                </div>
            `;

            // Add AI explanation for known terms
            if (christianTerms[term]) {
                const aiExplanation = await getAIExplanation(term);
                html += aiExplanation;
            }

            results.innerHTML = html;
            document.getElementById('christian-dict-input').value = '';
        });

        // AI Explanation (using free API)
        async function getAIExplanation(term) {
            // Simple spiritual insights based on term
            const insights = {
                'grace': 'Grace empowers believers to live righteously, not by their own strength, but through God\'s enabling power.',
                'faith': 'Faith is not blind belief, but a confident trust based on God\'s character and promises revealed in Scripture.',
                'salvation': 'Salvation is a gift that cannot be earned through good works, but is received through faith in Jesus Christ.',
                'repentance': 'True repentance involves both a change of mind and a change of direction, turning from sin to God.',
                'baptism': 'Baptism represents the believer\'s identification with Christ\'s death, burial, and resurrection.',
                'covenant': 'God\'s covenants show His faithfulness and commitment to His promises throughout history.',
                'redemption': 'Redemption illustrates the cost of sin and the price Jesus paid to set humanity free.',
                'sanctification': 'Sanctification is both an instant act at salvation and a lifelong process of spiritual growth.',
                'justification': 'Justification means God declares believers righteous, not because of their merit, but because of Christ.',
                'atonement': 'Atonement shows God\'s justice and mercy meeting at the cross, satisfying both.',
                'trinity': 'The Trinity shows the relational nature of God and the perfect unity in diversity within the Godhead.'
            };

            const insight = insights[term] || 'Consider how this concept applies to your daily walk with God.';
            
            return `
                <div class="ai-result">
                    <h4>🤖 Spiritual Insight:</h4>
                    <p>${insight}</p>
                </div>
            `;
        }

        // Suggestion Form
        document.getElementById('suggestion-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const suggestion = document.getElementById('suggestion-input').value.trim();
            const results = document.getElementById('suggestion-results');
            
            if (suggestion) {
                results.innerHTML = `<p style="color: var(--primary-color);">✅ Thank you! Your suggestion has been logged: "${suggestion}"</p>`;
                document.getElementById('suggestion-input').value = '';
            } else {
                results.innerHTML = '<p class="error">Please type a suggestion.</p>';
            }
        });

        // Book Borrowing Modal
        const modal = document.getElementById('booking-modal');
        const closeBtn = document.querySelector('.close-modal');
        const bookingForm = document.getElementById('booking-form');
        const bookTitleInput = document.getElementById('book-title-modal');

        // Open modal when borrow button clicked
        document.querySelectorAll('.borrow-btn:not(.disabled)').forEach(btn => {
            btn.addEventListener('click', function() {
                const bookTitle = this.getAttribute('data-book');
                bookTitleInput.value = bookTitle;
                modal.style.display = 'block';
            });
        });

        // Close modal
        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
            bookingForm.reset();
        });

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
                bookingForm.reset();
            }
        });

        // Handle form submission
        bookingForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const formData = {
                book: document.getElementById('book-title-modal').value,
                admission: document.getElementById('admission-number').value,
                mobile: document.getElementById('mobile-number').value,
                returnDate: document.getElementById('return-date').value
            };

            // In a real app, this would send to a server
            console.log('Booking Request:', formData);
            
            alert(`✅ Booking Request Submitted!\n\nBook: ${formData.book}\nAdmission: ${formData.admission}\nMobile: ${formData.mobile}\nReturn Date: ${formData.returnDate}\n\nThe library team will contact you soon!`);
            
            modal.style.display = 'none';
            bookingForm.reset();
        });

        // Set minimum date for return date to today
        const returnDateInput = document.getElementById('return-date');
        const today = new Date().toISOString().split('T')[0];
        returnDateInput.setAttribute('min', today);
    </script>
</body>
</html>






